TemplateFinder
==============

This blueprint extracts out fields from html either via xpath or by automatic cluster
analysis

The blueprint takes rules of the following form

N-field = (text|html|delete|optional) xpath

N is the group number. Groups are run in order of group number. If
any rule doesn't match (unless its marked optional) then the next group
will be tried instead.

"field" is the attribute that will be set with the results of the xpath

"format" is what to do with the results of the xpath. "optional" means the same
as "delete" but won't cause the group to not match. if the format is delete or optional
then the field name doesn't matter but will still need to be unique

"xpath' is an xpath expression



>>> from os.path import dirname
>>> from os.path import abspath
>>> config = """
... [transmogrifier]
... pipeline =
...     webcrawler
...     treeserializer
...     printer
...     
... [webcrawler]
... blueprint = transmogrify.htmlcontentextractor.webcrawler
... site_url  = file:///%s/test_staticsite/
...
... [treeserializer]
... blueprint = transmogrify.htmlcontentextractor.templatefinder
...
... [printer]
... blueprint = collective.transmogrifier.sections.tests.pprinter
...
... """ % abspath(dirname(__file__)).replace('\\','/')

>>> from collective.transmogrifier.tests import registerConfig
>>> registerConfig(u'transmogrify.htmlcontentextractor.templatefinder.test', config)

>>> from collective.transmogrifier.transmogrifier import Transmogrifier
>>> transmogrifier = Transmogrifier(plone)
>>> transmogrifier(u'transmogrify.htmlcontentextractor.templatefinder.test')
{'_path': '/cia-plone-view-source.jpg',
 '_site_url': 'file:///home/rok/Projects/pretaweb_dev/src/transmogrify.htmlcontentextractor/pretaweb/blueprints/test_staticsite'}

